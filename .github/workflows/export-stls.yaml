name: Export STLs
on: [push]
jobs:
  export-stls:
    runs-on: ubuntu-latest
    steps:
      - name: "Clone repository"
        uses: actions/checkout@v2
      - name: "Install OpenSCAD"
        run: |
          sudo apt update
          sudo apt install openscad
      - name: "Export stl files for 3D printing"
        run: |
          mkdir stls
          openscad oring.scad -o stls/oring.stl
          openscad mold.scad -o stls/mold.stl
      - name: Upload generated artifacts
        uses: actions/upload-artifact@v2
        with:
          name: stls
          path: stls/
